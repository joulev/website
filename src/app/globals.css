@import "tailwindcss";

@plugin "@tailwindcss/typography";
@plugin "tailwindcss-animate";
@plugin "tailwindcss-bg-patterns";

@config "./tailwind-typography.ts";

@theme inline {
  --font-*: initial;
  --font-sans: var(--sans);
  --font-mono: var(--mono);
  --font-lta: var(--lta), var(--sans);
}

@theme {
  --color-*: initial;
  --color-text-primary: #fffffff5;
  --color-text-prose: #ffffffba;
  --color-text-secondary: #ffffff7c;
  --color-text-tertiary: #afafaf70;
  --color-bg-idle: #8080804d;
  --color-bg-hover: #afafaf0c;
  --color-bg-active: #afafaf42;
  --color-bg-darker: #12121233;
  --color-bg-disabled: #afafaf0c;
  --color-bg-button-hover-bg: #afafaf30;
  --color-bg-site-bg: #2a2a41;
  --color-separator: #afafaf1c;
  --color-black: black;
  --color-white: white;
  --color-transparent: transparent;
  --color-current: currentColor;
  --color-red: #ff453a;
  --color-orange: #ff9f0a;
  --color-yellow: #ffd60a;
  --color-green: #32d74b;
  --color-mint: #66c4df;
  --color-cyan: #5ac8f5;
  --color-blue: #0a84ff;

  --blur-*: initial;
  --blur: 12px;
  --blur-lg: 24px;
  --blur-none: 0px;

  --radius-*: initial;
  --radius: 1.25rem;
  --radius-full: 2rem;
  --radius-none: 0;

  --default-transition-duration: 300ms;

  --breakpoint-blog-lg: 1150px;

  --max-width-prose: 700px;
}

@utility container {
  margin-inline: auto;
  padding-inline: 1.5rem;
}

@utility error-page-link {
  @apply text-text-primary underline underline-offset-4 decoration-text-tertiary;
}

@layer base {
  button:not(:disabled),
  [role='button']:not(:disabled) {
    cursor: pointer;
  }

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-separator, currentColor);
  }
}

hr {
  @apply border-separator;
}

#nprogress {
  @apply pointer-events-none;
}
#nprogress .bar {
  @apply fixed left-0 top-0 z-50 h-0.5 w-full bg-text-primary;
}

/* https://dev.to/noriste/production-grade-gradient-bordered-transparent-and-rounded-button-56h4 */
.card {
  @apply border;
  border-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' fill='none'%3E%3Crect width='199' height='199' x='.5' y='.5' stroke='url(%23a)' rx='31.5'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='8.5' x2='100' y1='0' y2='241.5' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23fff' stop-opacity='.4'/%3E%3Cstop offset='.385' stop-color='%23fff' stop-opacity='0'/%3E%3Cstop offset='.516' stop-color='%23737373' stop-opacity='.021'/%3E%3Cstop offset='.516' stop-color='%23fff' stop-opacity='.01'/%3E%3Cstop offset='1' stop-color='%23fff' stop-opacity='.1'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E")
    32 / 32px stretch;
}

.card-sm {
  @apply border;
  border-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' fill='none'%3E%3Crect width='199' height='199' x='.5' y='.5' stroke='url(%23a)' rx='19.5'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='8.5' x2='100' y1='0' y2='241.5' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23fff' stop-opacity='.4'/%3E%3Cstop offset='.385' stop-color='%23fff' stop-opacity='0'/%3E%3Cstop offset='.516' stop-color='%23737373' stop-opacity='.021'/%3E%3Cstop offset='.516' stop-color='%23fff' stop-opacity='.01'/%3E%3Cstop offset='1' stop-color='%23fff' stop-opacity='.1'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E")
    20 / 20px stretch;
}

.card-pill {
  @apply border;
  border-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='56' fill='none'%3E%3Crect width='199' height='55' x='.5' y='.5' stroke='url(%23a)' rx='27.5'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='8.5' x2='31' y1='0' y2='104.537' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23fff' stop-opacity='.4'/%3E%3Cstop offset='.385' stop-color='%23fff' stop-opacity='0'/%3E%3Cstop offset='.516' stop-color='%23737373' stop-opacity='.021'/%3E%3Cstop offset='.516' stop-color='%23fff' stop-opacity='.01'/%3E%3Cstop offset='1' stop-color='%23fff' stop-opacity='.1'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E")
    28 / 32px stretch;
}

.card-circle {
  @apply border rounded-[9999px];
  border-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' fill='none'%3E%3Crect width='199' height='199' x='.5' y='.5' stroke='url(%23a)' rx='99.5'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='8.5' x2='100' y1='0' y2='241.5' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23fff' stop-opacity='.4'/%3E%3Cstop offset='.385' stop-color='%23fff' stop-opacity='0'/%3E%3Cstop offset='.516' stop-color='%23737373' stop-opacity='.021'/%3E%3Cstop offset='.516' stop-color='%23fff' stop-opacity='.01'/%3E%3Cstop offset='1' stop-color='%23fff' stop-opacity='.1'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E")
    100 / 100px stretch;
}

.recessed {
  @apply bg-bg-darker;
  box-shadow:
    inset 0px -0.5px 1px rgba(255, 255, 255, 0.3),
    inset 0px -0.5px 1px rgba(255, 255, 255, 0.25),
    inset 0px 1.5px 4px rgba(0, 0, 0, 0.08),
    inset 0px 1.5px 4px rgba(0, 0, 0, 0.1);
}

.hover-bg {
  @apply relative overflow-hidden [--hover-bg-colour:var(--color-bg-button-hover-bg)] before:absolute before:inset-0 before:-z-10 before:opacity-0 before:transition hover:before:opacity-100 disabled:before:opacity-0;
  &::before {
    background: radial-gradient(
      80% 100% at var(--hover-bg-left) var(--hover-bg-top),
      var(--hover-bg-colour),
      transparent
    );
  }
}

.link {
  @apply rounded-[4px] font-semibold text-cyan no-underline transition hover:bg-bg-idle hover:[box-shadow:0_0_0_4px_var(--color-bg-idle)] active:bg-bg-active active:[box-shadow:0_0_0_4px_var(--color-bg-active)];
  /* [box-shadow:0_0_0_4px_transparent] // this gave the behaviour I wanted, but removing it makes the thing even better */
}

.no-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.no-scrollbar::-webkit-scrollbar {
  display: none;
  width: 0;
  height: 0;
}
